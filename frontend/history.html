<!DOCTYPE html>
<html lang="fr">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Historique - Passerelle VHF</title>
    <link rel="icon" href="/static/favicon.svg" type="image/svg+xml">
    <link rel="stylesheet" href="/static/css/style.css">
</head>

<body>
    <div class="app-container">
        <!-- Sidebar g√©n√©r√©e dynamiquement par sidebar.js -->

        <main class="main-content">
            <header class="page-header">
                <h1>Historique des transmissions</h1>
                <p class="text-muted">Journal d√©taill√© de toutes les √©missions radio</p>
            </header>

            <div class="content">
                <!-- Statistiques 24h -->
                <div id="statsContainer" class="mb-4">
                    <!-- Charg√© dynamiquement -->
                </div>

                <!-- Filtres -->
                <div class="card mb-4">
                    <div class="card-header">
                        <h3>Filtres</h3>
                    </div>
                    <div class="card-body">
                        <div class="filters-grid">
                            <div class="form-group">
                                <label for="channelFilter">Canal</label>
                                <select id="channelFilter" class="form-control">
                                    <option value="">Tous les canaux</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="statusFilter">Statut</label>
                                <select id="statusFilter" class="form-control">
                                    <option value="">Tous les statuts</option>
                                    <option value="SENT">Envoy√©es</option>
                                    <option value="FAILED">√âchecs</option>
                                    <option value="ABORTED">Annul√©es</option>
                                    <option value="PENDING">En attente</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="modeFilter">Mode</label>
                                <select id="modeFilter" class="form-control">
                                    <option value="">Tous les modes</option>
                                    <option value="SCHEDULED">Planifi√©es</option>
                                    <option value="MANUAL_TEST">Tests manuels</option>
                                </select>
                            </div>

                            <div class="form-group">
                                <label for="startDate">üìÖ Date de d√©but</label>
                                <input type="datetime-local" id="startDate" class="form-control" style="font-size: 0.95em; padding: 8px 12px;">
                            </div>

                            <div class="form-group">
                                <label for="endDate">üìÖ Date de fin</label>
                                <input type="datetime-local" id="endDate" class="form-control" style="font-size: 0.95em; padding: 8px 12px;">
                            </div>

                            <div class="form-group" style="display: flex; align-items: flex-end; gap: 10px;">
                                <button id="applyFilters" class="btn btn-primary">
                                    Appliquer
                                </button>
                                <button id="clearFilters" class="btn btn-secondary">
                                    R√©initialiser
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Tableau des transmissions -->
                <div class="card">
                    <div class="card-header">
                        <h3>Transmissions enregistr√©es</h3>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="table">
                                <thead>
                                    <tr>
                                        <th>Date √©mission</th>
                                        <th>Canal</th>
                                        <th>Mode</th>
                                        <th>Statut</th>
                                        <th>Texte annonc√©</th>
                                        <th>Station</th>
                                        <th>Erreur</th>
                                    </tr>
                                </thead>
                                <tbody id="historyTable">
                                    <tr>
                                        <td colspan="7" class="text-center">
                                            <div class="spinner"></div>
                                            Chargement...
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>

                        <!-- Pagination -->
                        <div id="paginationControls" class="pagination-container mt-3">
                            <!-- Charg√© dynamiquement -->
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <script src="/static/js/common.js"></script>
    <script src="/static/js/sidebar.js"></script>
    <script>
        // Initialiser la sidebar
        initSidebar('history');
    </script>
    <script src="/static/js/history.js"></script>
</body>

</html>